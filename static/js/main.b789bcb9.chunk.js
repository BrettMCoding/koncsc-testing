(this.webpackJsonpnovitas_cs=this.webpackJsonpnovitas_cs||[]).push([[0],{100:function(e,a,t){e.exports=t.p+"static/media/ncs_2022.49d98bb3.pdf"},120:function(e,a,t){var r,n=(r=t(0))&&"object"===typeof r&&"default"in r?r.default:r,l=function(e){var a=e.color,t=e.pushRight,r=void 0===t||t,l=e.children;return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:r?"20px":"0",minWidth:24}},l)},s=function(){return n.createElement(l,{color:"#2E9AFE"},n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}))},c=function(){return n.createElement(l,{color:"#31B404"},n.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),n.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))},o=function(){return n.createElement(l,{color:"#FF0040"},n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),n.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))},i=function(){return n.createElement(l,{color:"#FFFFFF",pushRight:!1},n.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))},u=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},m={borderStyle:"solid",borderColor:"black",backgroundColor:"#333",color:"white",padding:"10px",borderRadius:"1px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0px 2px 2px 2px rgba(0, 0, 0, 0.03)",fontFamily:"Arial",width:"250px",boxSizing:"border-box"},h={marginLeft:"20px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#FFFFFF"};e.exports=function(e){var a=e.message,t=e.options,r=e.style,l=e.close;return n.createElement("div",{onClick:l,style:u({},m,r)},"info"===t.type&&n.createElement(s,null),"success"===t.type&&n.createElement(c,null),"error"===t.type&&n.createElement(o,null),n.createElement("span",{style:{flex:2,whiteSpace:"initial",textAlign:"center"}},a),n.createElement("button",{style:h},n.createElement(i,null)))}},121:function(e,a,t){e.exports=t(179)},123:function(e,a,t){},179:function(e,a,t){"use strict";t.r(a);t(122),t(123);var r=t(0),n=t.n(r),l=t(37),s=t(62),c=t(35),o=t(27),i=t(18),u=t(21),m=t(25),h=t(24),p=t(26),g=t(190),d=t(192),f=t(193),k=t(10),E=t(20),S=t.n(E),y=new(function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"executeBasicAuthenticationService",value:function(e,a){return S.a.get("".concat("https://konrest.herokuapp.com","/auth"),{headers:{authorization:this.createBasicAuthToken(e,a)}})}},{key:"createBasicAuthToken",value:function(e,a){return"Basic "+window.btoa(e+":"+a)}},{key:"registerSuccessfulLogin",value:function(e,a){localStorage.setItem("authenticatedUser",e),console.log("you are now logged in as: "),console.log(localStorage.getItem("authenticatedUser")),console.log("\n\n\n\n\n"),localStorage.setItem("USER_TOKEN",this.createBasicAuthToken(e,a)),this.setupAxiosInterceptors(localStorage.getItem("USER_TOKEN"))}},{key:"logout",value:function(){localStorage.removeItem("authenticatedUser")}},{key:"isUserLoggedIn",value:function(){return null!==localStorage.getItem("authenticatedUser")}},{key:"getLoggedInUserName",value:function(){var e=localStorage.getItem("authenticatedUser");return null===e?"":e}},{key:"setupAxiosInterceptors",value:function(e){var a=this;S.a.interceptors.request.use((function(t){return a.isUserLoggedIn()&&(t.headers.authorization=e),t}))}}]),e}()),v=t(30);var b=function(e){var a="https://brettmcoding.github.io/koncsc",t=Object(r.useState)(""),l=Object(k.a)(t,2),s=l[0],c=l[1],o=Object(r.useState)(""),i=Object(k.a)(o,2),u=i[0],m=i[1],h=Object(r.useState)(!1),p=Object(k.a)(h,2),g=p[0],d=p[1],f=Object(r.useState)(!1),E=Object(k.a)(f,2),S=E[0],b=E[1],C=Object(v.d)();return n.a.createElement("div",null,!e.isUserLoggedIn&&n.a.createElement("div",{className:"container form-group d-flex flex-column"},n.a.createElement("h1",{className:"text-center"},"Login"),g&&n.a.createElement("div",{className:"alert alert-warning"},"Invalid Credentials"),S&&n.a.createElement("div",{className:"alert alert-success text-center"},"Login Successful"),"Email: ",n.a.createElement("input",{type:"text",className:"form-control",name:"email",value:s,onChange:function(e){return c(e.target.value)}}),"Password: ",n.a.createElement("input",{type:"password",className:"form-control",name:"password",value:u,onChange:function(e){return m(e.target.value)}}),n.a.createElement("button",{className:"btn btn-lg btn-success p-1 mt-3 mb-2",onClick:function(){y.executeBasicAuthenticationService(s,u).then((function(){y.registerSuccessfulLogin(s,u),C.show("Login Successful",{type:"success",timeout:5e3}),e.toggleModal(),e.getUserLoggedInProp(y.isUserLoggedIn()),e.loadCharacterList(C)})).catch((function(){b(!1),d(!0)}))}},"Login"),n.a.createElement("div",null,n.a.createElement("a",{href:a+"/#/register",className:"btn btn-outline-secondary text-center"},"Create account"),n.a.createElement("a",{href:a+"/#/forgot",className:"btn btn-outline-secondary text-center"},"Forgot your password?"))))};function C(e){var a=Object(v.d)();return n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-danger",onClick:function(){y.logout(),a.show("Logout Successful",{type:"success",timeout:5e3}),e.getUserLoggedInProp(y.isUserLoggedIn())}},"Logout"))}var N=t(182),O=t(183),I=t(184),T=t(185),L=t(186),P=t(187),x=t(93),w=t(188),H=t(195),j=t(196),A=t(194),M=t(189),F=t(180),B=t(181),R=t(54),W=t(94);function _(e){return e.characterList.map((function(a){return n.a.createElement("div",{className:"character-list-slot btn-success btn-sm",id:a.id,onClick:function(){e.setCurrentConfirmationModal(e.handleCharacter,e.message+a.characterName+")",a.id)}},a.characterName,".\xa0",n.a.createElement("br",null),"Level\xa0",a.level,"\xa0",a.race)}))}function D(e){return n.a.createElement("div",null,n.a.createElement(A.a,{isOpen:e.confirmationModalIsOpen,toggle:e.toggleConfirmationModalIsOpen},n.a.createElement(F.a,null,e.message),n.a.createElement(B.a,null,n.a.createElement(x.a,{className:" m-auto w-50 ",color:"secondary",onClick:e.toggleConfirmationModalIsOpen},"Cancel"),n.a.createElement(x.a,{className:" m-auto w-50 ",color:"success",onClick:function(){e.handleCharacter(e.id,e.alert),e.toggleConfirmationModalIsOpen()}},"Confirm"))))}var U=function(e){var a=Object(r.useState)(!1),t=Object(k.a)(a,2),l=t[0],s=t[1],c=Object(r.useState)(!1),o=Object(k.a)(c,2),i=o[0],u=o[1],m=Object(r.useState)(!1),h=Object(k.a)(m,2),p=h[0],g=h[1],d=Object(r.useState)(!1),f=Object(k.a)(d,2),E=f[0],S=f[1],U=Object(v.d)(),V=Object(r.useState)(!0),Y=Object(k.a)(V,2),G=Y[0],X=Y[1],q=function(){return u(!me&&!i)},z=function(){g(!p)},K=function(){S(!E)},J=Object(r.useState)(""),Q=Object(k.a)(J,2),Z=Q[0],$=Q[1],ee=Object(r.useState)(""),ae=Object(k.a)(ee,2),te=ae[0],re=ae[1],ne=Object(r.useState)(null),le=Object(k.a)(ne,2),se=le[0],ce=le[1],oe=function(e,a,t){$((function(){return e})),re(a),ce(t),K()},ie=Object(r.useState)(y.isUserLoggedIn()),ue=Object(k.a)(ie,2),me=ue[0],he=ue[1],pe=function(e){he(e)},ge=function(e){return n.a.createElement("div",{className:"align-items-center d-flex"},n.a.createElement(W.Transition,{items:me,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},(function(a){return a&&function(a){return n.a.createElement(R.a.div,{style:a},e)}})))};return n.a.createElement("div",null,n.a.createElement(N.a,{className:"navbar navbar-dark",light:!0,expand:"md"},n.a.createElement(O.a,{onClick:function(){return s(!l)}}),n.a.createElement(I.a,{isOpen:l,navbar:!0},n.a.createElement(T.a,{className:"mr-auto",navbar:!0},n.a.createElement(L.a,{className:"align-items-center d-flex"},n.a.createElement(P.a,{href:"http://kingdomsofnovitas.net/"},"kingdomsofnovitas.net")),n.a.createElement(L.a,{className:"align-items-center d-flex"},n.a.createElement(P.a,{href:"https://www.facebook.com/groups/KingdomsOfNovitas/"},"Facebook")),n.a.createElement(L.a,null,n.a.createElement(P.a,null,n.a.createElement("button",{className:"navButton",onClick:z},"Reset Skills"))),n.a.createElement(L.a,null,n.a.createElement(P.a,null,n.a.createElement("button",{className:"navButton",onClick:e.lockChanges},e.locked?"Unl":"L","ock Editing"))),n.a.createElement(L.a,{className:"align-items-center d-flex"},me&&n.a.createElement(C,{getUserLoggedInProp:pe}),!me&&n.a.createElement(x.a,{color:"success",onClick:q},"Login")),ge(n.a.createElement(L.a,null,n.a.createElement(w.a,{nav:!0,inNavbar:!0},n.a.createElement(H.a,{nav:!0,caret:!0},"Save"),n.a.createElement(j.a,{right:!0},n.a.createElement(_,{characterList:e.characterList,handleCharacter:e.saveCharacter,setCurrentConfirmationModal:oe,message:"Are you sure you want to save this character? (Character in slot: "}),n.a.createElement("div",{className:"character-list-slot btn-success btn-sm",onClick:function(){oe(e.saveCharacter,"Are you sure you want to save a new character?")}},"New Character"))))),ge(n.a.createElement(L.a,null,n.a.createElement(w.a,{nav:!0,inNavbar:!0},n.a.createElement(H.a,{nav:!0,caret:!0},"Load"),n.a.createElement(j.a,{right:!0},n.a.createElement(_,{characterList:e.characterList,handleCharacter:e.loadCharacter,setCurrentConfirmationModal:oe,message:"Are you sure you want to load this character? (Character: "}))))),ge(n.a.createElement(L.a,null,n.a.createElement(w.a,{nav:!0,inNavbar:!0},n.a.createElement(H.a,{nav:!0,caret:!0},"Delete"),n.a.createElement(j.a,{right:!0},n.a.createElement(_,{characterList:e.characterList,handleCharacter:e.deleteCharacter,setCurrentConfirmationModal:oe,message:"Are you sure you want to load this character? (Character: "}))))),n.a.createElement(L.a,null,n.a.createElement(P.a,null,n.a.createElement("button",{className:"navButton",disabled:!G,onClick:function(){X(!1),e.printCharacterSheet(),setTimeout((function(){X(!0)}),2e3)}},"Download PDF"))))),n.a.createElement(A.a,{isOpen:i,toggle:q},n.a.createElement(M.a,{toggle:q},"Login"),n.a.createElement(F.a,null,n.a.createElement(b,{isUserLoggedIn:me,getUserLoggedInProp:pe,toggleModal:q,loadCharacterList:e.loadCharacterList})),n.a.createElement(B.a,null,n.a.createElement(x.a,{className:" m-auto w-50 ",color:"secondary",onClick:q},"Cancel"))),n.a.createElement(A.a,{isOpen:p,toggle:z},n.a.createElement(F.a,null,n.a.createElement("div",null,"Are you sure you want to reset your skills? (Unsaved changes will be lost)")),n.a.createElement(B.a,null,n.a.createElement(x.a,{className:" m-auto w-50 ",color:"secondary",onClick:e.toggleConfirmationModalIsOpen},"Cancel"),n.a.createElement(x.a,{className:" m-auto w-50 ",color:"success",onClick:function(){e.resetSkills(),z()}},"Reset Skills"))),n.a.createElement(D,{confirmationModalIsOpen:E,toggleConfirmationModalIsOpen:K,handleCharacter:Z,message:te,id:se,alert:U})))},V=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(g.a,null,n.a.createElement("div",{className:"header-title"},n.a.createElement("h1",null,"KINGDOMS OF NOVITAS"),n.a.createElement("h2",null,"Online Character Sheet | Skill Calculator")),n.a.createElement(U,{lockChanges:this.props.lockChanges,resetSkills:this.props.resetSkills,locked:this.props.locked,saveCharacter:this.props.saveCharacter,loadCharacter:this.props.loadCharacter,deleteCharacter:this.props.deleteCharacter,characterList:this.props.characterList,loadCharacterList:this.props.loadCharacterList,printCharacterSheet:this.props.printCharacterSheet})))}}]),a}(n.a.Component);var Y=function(e){var a="info-input";return"characterName"===e.infoName&&(a+=" name"),n.a.createElement("div",null,e.displayName,":",n.a.createElement("br",null),"\xa0",n.a.createElement("input",{className:a,type:"text",placeholder:e.placeholder,maxLength:e.maxLength,value:e.infoValue,disabled:e.lockChanges,onChange:function(a){e.characterInfoChange(e.infoName,a.target.value)}}))},G=t(191),X=t(63);function q(e){var a=Object(r.useState)(!1),t=Object(k.a)(a,2),l=t[0],s=t[1],c=e.countries,o=void 0===c?n.a.createElement("div",null,"Loading countries..."):c.map((function(a){return n.a.createElement(G.a,{className:"info-dropdown-item",disabled:e.lockChanges,key:a.name,onClick:function(t){e.characterInfoChange("country",a.name)}},a.name)}));return n.a.createElement("div",null,"Country:",n.a.createElement(X.a,{isOpen:l,toggle:function(){return s((function(e){return!e}))},setActiveFromChild:!0,size:"md"},n.a.createElement(H.a,{caret:!0,className:"navButton p-0 pl-2"},n.a.createElement("span",{className:""===e.country?"":"mock-input-dropdown"},""===e.country?"Select a country":e.country)),n.a.createElement(j.a,null,o)))}function z(e){var a=Object(r.useState)(!1),t=Object(k.a)(a,2),l=t[0],s=t[1],c=e.races,o=void 0===c?n.a.createElement("div",null,"Loading races..."):c.map((function(a){return n.a.createElement(G.a,{className:"info-dropdown-item",key:a.name,disabled:e.lockChanges,onClick:function(t){e.characterInfoChange("race",a.name)}},a.name)}));return n.a.createElement("div",null,"Race:",n.a.createElement(X.a,{isOpen:l,toggle:function(){return s((function(e){return!e}))},setActiveFromChild:!0,size:"md"},n.a.createElement(H.a,{caret:!0,className:"navButton p-0 pl-2"},n.a.createElement("span",{className:""===e.race?"":"mock-input-dropdown"},""===e.race?"Select a race":e.race)),n.a.createElement(j.a,null,o)))}var K=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(g.a,null,n.a.createElement(d.a,null,n.a.createElement(f.a,null,n.a.createElement("div",{className:"characterinfo-box"},n.a.createElement("div",{className:"characterinfo-content"},n.a.createElement(d.a,null,n.a.createElement(f.a,null,n.a.createElement(Y,{className:"inputbox",displayName:"Character Name",infoName:"characterName",infoValue:this.props.characterName,maxLength:"50",placeholder:"Enter a Character Name",characterInfoChange:this.props.characterInfoChange,lockChanges:this.props.lockChanges}))),n.a.createElement(d.a,null,n.a.createElement(f.a,null,n.a.createElement(z,{characterInfoChange:this.props.characterInfoChange,race:this.props.race,races:this.props.races,lockChanges:this.props.lockChanges})),n.a.createElement(f.a,null,n.a.createElement(q,{characterInfoChange:this.props.characterInfoChange,country:this.props.country,countries:this.props.countries,lockChanges:this.props.lockChanges}))),n.a.createElement(d.a,null,n.a.createElement(f.a,null,n.a.createElement(Y,{className:"inputbox",nameClass:" name",displayName:"Player",infoName:"player",infoValue:this.props.player,maxLength:"32",placeholder:"Enter a player name",characterInfoChange:this.props.characterInfoChange})),n.a.createElement(f.a,null,n.a.createElement(Y,{className:"inputbox",displayName:"Level",infoName:"level",infoValue:this.props.level,maxLength:"3",placeholder:"1",characterInfoChange:this.props.characterInfoChange}))),n.a.createElement(d.a,null,n.a.createElement(f.a,null,n.a.createElement("div",{className:"skillpointsremaining"},"Skill Points Remaining: ",n.a.createElement("div",{className:"mock-input"},"\xa0\xa0",this.props.calculateSkillPointsRemaining()))),n.a.createElement(f.a,null,n.a.createElement(Y,{className:"inputbox",displayName:"Saved XP",infoName:"savedXp",infoValue:this.props.savedXp,maxLength:"3",placeholder:"0",lockChanges:this.props.lockChanges,characterInfoChange:this.props.characterInfoChange})))))))))}}]),a}(r.Component),J=t(39),Q=t(22);function Z(e){var a=Object(r.useState)(!1),t=Object(k.a)(a,2),l=t[0],s=t[1],c=Object(r.useState)(!1),o=Object(k.a)(c,2),i=o[0],u=o[1],m=Object(r.useState)(e.characterPicture),h=Object(k.a)(m,2),p=h[0],d=h[1];return n.a.createElement("div",null,n.a.createElement(g.a,null,n.a.createElement("h3",{className:"collapser-header mb-0 d-flex justify-content-between"},n.a.createElement("button",{className:"btn-sm btn-dark float-left",onClick:function(){return u(!i)}},n.a.createElement(J.a,{icon:i?Q.b:Q.a})),n.a.createElement("span",{className:"text-align-center justify-content-center"},"Character Bio"),n.a.createElement("button",{className:"btn-sm btn-dark float-right",onClick:function(){return u(!i)}},n.a.createElement(J.a,{icon:i?Q.b:Q.a}))),n.a.createElement(I.a,{isOpen:i},n.a.createElement("div",{className:"character-bio mb-0 mt-0 d-flex flex-wrap flex-row"},n.a.createElement("div",{className:"imgbox p-2"},n.a.createElement("div",{className:"imgbox-overlay",onClick:function(){e.lockChanges||s(!l)}}),n.a.createElement("img",{className:"character-picture pd-2",src:e.characterPicture}),n.a.createElement("div",{className:"imgboxtext"},"change picture")),n.a.createElement("textarea",{value:e.characterBio,className:"character-bio-text m-2 pd-2 flex-grow-1",type:"text",placeholder:"Enter a character description",maxLength:"100000",disabled:e.lockChanges,onInput:function(a){e.changeCharacterBio(a.target.value)}})))),n.a.createElement(A.a,{isOpen:l},n.a.createElement(F.a,null,n.a.createElement("div",null,"Please enter URL for your character picture"),n.a.createElement("div",null,"Image will be resized to 246x246"),n.a.createElement("div",null,"(must be a direct image link)"),n.a.createElement("input",{className:"character-bio-input",maxLength:"100000",type:"text",placeholder:"enter URL",onInput:function(e){d(e.target.value)},onPaste:function(e){d(e.clipboardData.getData("Text"))}})),n.a.createElement(B.a,null,n.a.createElement(x.a,{className:" m-auto w-50 ",color:"secondary",onClick:function(){return s(!l)}},"Cancel"),n.a.createElement(x.a,{className:" m-auto w-50 ",color:"success",onClick:function(){e.changeCharacterPicture(p),s(!l)}},"OK"))))}function $(e){var a=e.props,t=a.removeResource,r=a.addResource,l=a.lockChanges,s=e.resourceName,c=e.resource,o=e.max,i=e.skillCss,u=e.cost,m=e.displayName,h=Object(R.b)({width:c?c*(20===o?5:10)+"%":"0%"}),p=function(){return n.a.createElement("div",{className:"progress-bar"},n.a.createElement("div",{className:"bar-text"},m,": ",c," / ",o),n.a.createElement(g,null))},g=function(){return n.a.createElement(R.a.div,{className:"filler "+i,style:h})};return function(a){return void 0===a?n.a.createElement("div",null,"Loading..."):n.a.createElement(d.a,{className:"d-flex flex-nowrap justify-content-center rscrow"},n.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm rscbtn",disabled:l,onClick:function(){t(s)}},"-"),n.a.createElement(p,null),n.a.createElement("button",{type:"button",className:"btn btn-success btn-sm rscbtn",disabled:l,onClick:function(){r(s,u,o)}},"+"),n.a.createElement("div",{className:"resource-cost"},u*e.pointsGrantedPerSkillPoint))}(c)}function ee(e){var a=Object(r.useState)(!1),t=Object(k.a)(a,2),l=t[0],s=t[1];return n.a.createElement("div",null,n.a.createElement("div",{className:"resourcebox mt-3"},n.a.createElement("h3",{className:"collapser-header mb-2 d-flex justify-content-between"},n.a.createElement("button",{className:"btn-sm btn-dark float-left",onClick:function(){return s(!l)}},n.a.createElement(J.a,{icon:l?Q.b:Q.a})),n.a.createElement("span",{className:"text-align-center justify-content-center resources"},"Resources"),n.a.createElement("button",{className:"btn-sm btn-dark float-right",onClick:function(){return s(!l)}},n.a.createElement(J.a,{icon:l?Q.b:Q.a}))),n.a.createElement(I.a,{isOpen:l},n.a.createElement($,{props:e,displayName:"Magic Power",cost:e.MAGIC_POINT_COST,max:20,pointsGrantedPerSkillPoint:"1",resourceName:"magicPoints",resource:e.resources.magicPoints,skillCss:"magic"}),n.a.createElement($,{props:e,displayName:"Production",cost:e.PRODUCTION_POINT_COST,max:20,pointsGrantedPerSkillPoint:"2",resourceName:"productionPoints",resource:e.resources.productionPoints,skillCss:"production"}),n.a.createElement($,{props:e,displayName:"Craft",cost:e.CRAFT_POINT_COST,max:20,pointsGrantedPerSkillPoint:"2",resourceName:"craftPoints",resource:e.resources.craftPoints,skillCss:"craft"}))))}var ae=function(e){var a=function(e){return void 0!==e&&t(e)},t=function(a){return a.some((function(a){return a.id===e.skill.id}))},r=function(a){return 2===e.skill.tier?"  ":3===e.skill.tier?"    ":4===e.skill.tier?"      ":5===e.skill.tier?"        ":6===e.skill.tier?"          ":void 0},l=a(e.playerSkills)?" checked":"";return void 0!==e.freeLanguages[0]&&e.freeLanguages.find((function(a){return a.name===e.skill.name}))?n.a.createElement("div",{className:"skill row d-flex flex-nowrap checked"},n.a.createElement("div",{className:"skillBody col pl-1 checked"},n.a.createElement("p",null,n.a.createElement("input",{disabled:!0,type:"checkbox",checked:!0})," "," ",r(e.skill.name),e.skill.name)),n.a.createElement("div",{className:"skillCost d-inline-flex flex-nowrap pr-1"},e.skill.cost)):e.skill.name.includes("Mad Ramblings")?n.a.createElement("div",{className:"skill row d-flex flex-nowrap madramblings"},n.a.createElement("div",{className:"skillBody col pl-1"},n.a.createElement("p",null,n.a.createElement("input",{disabled:e.lockChanges,type:"checkbox",checked:!1,onChange:function(a){e.playerCheckedASkillBox(e.skill,a.target.checked)}})," "," ",r(e.skill.name),e.skill.name.toUpperCase())),n.a.createElement("div",{className:"skillCost d-inline-flex flex-nowrap pr-1"},"?")):n.a.createElement("div",{className:"skill row d-flex flex-nowrap "+l},n.a.createElement("div",{className:"skillBody col pl-1"+l},n.a.createElement("p",null,n.a.createElement("input",{disabled:e.lockChanges,type:"checkbox",checked:a(e.playerSkills),onChange:function(a){e.playerCheckedASkillBox(e.skill,a.target.checked)}})," "," ",r(e.skill.name),e.skill.name,function(){if(1===e.skill.needsApproval)return"*"}())),n.a.createElement("div",{className:"skillCost d-inline-flex flex-nowrap pr-1"},e.skill.cost))};function te(e){var a=Object(r.useState)(!1),t=Object(k.a)(a,2),l=t[0],s=t[1],c=function(){return s(!l)},o=e.skills.length,i=0;"General"===e.treeName&&(i=e.freeLanguages.length);e.skills.sort((function(e,a){return e.listPosition>a.listPosition?1:a.listPosition>e.listPosition?-1:0}));var u=e.skills.map((function(a){return n.a.createElement(ae,{key:a.id,skill:a,playerCheckedASkillBox:e.playerCheckedASkillBox,lockChanges:e.lockChanges,playerSkills:e.playerSkills,freeLanguages:e.freeLanguages})}));return n.a.createElement("div",null,n.a.createElement("h3",null,n.a.createElement("button",{className:"btn-sm btn-dark float-left",onClick:c},n.a.createElement(J.a,{icon:l?Q.b:Q.a})),e.treeName," ",e.playerSkills.filter((function(a){return a.tree===e.tree})).length+i," / ",o,n.a.createElement("button",{className:"btn-sm btn-dark float-right",onClick:c},n.a.createElement(J.a,{icon:l?Q.b:Q.a}))),n.a.createElement(I.a,{isOpen:l},u))}var re=t(118),ne=t(46),le=t(96),se=t.n(le);function ce(){var e=Object(r.useState)(""),a=Object(k.a)(e,2),t=a[0],l=a[1],s=Object(r.useState)(!1),c=Object(k.a)(s,2),o=c[0],i=c[1],u=Object(r.useState)(!1),m=Object(k.a)(u,2),h=m[0],p=m[1],g=Object(r.useState)(""),d=Object(k.a)(g,2),f=d[0],E=d[1],y=Object(r.useState)(!0),v=Object(k.a)(y,2),b=v[0],C=v[1];Object(r.useEffect)((function(){document.title="Register Account"}),[]);return n.a.createElement("div",null,n.a.createElement("div",{className:"container form-group d-flex flex-column"},n.a.createElement("h1",{className:"text-center"},"Register New User"),o&&n.a.createElement("div",{className:"alert alert-warning"},"Error: "+f),h&&n.a.createElement("div",{className:"alert alert-success text-center"},"Registration Successful. A confirmation email has been sent to the provided email address. Please click the activation link in the email to continue"),!h&&n.a.createElement(n.a.Fragment,null,"Email: ",n.a.createElement("input",{type:"text",className:"form-control",name:"email",value:t,onChange:function(e){return l(e.target.value)}}),n.a.createElement("button",{className:"btn btn-lg btn-success p-1 mt-3 mb-2",disabled:!b,onClick:function(e){e.persist(),function(e){C(!1);S.a.post("https://konrest.herokuapp.com/register",{email:e}).then((function(e){console.log(e),p(!0),i(!1)})).catch((function(e){E(e.response.data),i(!0),C(!0)}))}(t)}},"Register")),n.a.createElement("a",{href:"https://brettmcoding.github.io/koncsc",className:"text-center m-auto w-50 btn btn-secondary"},"Back to homepage")))}function oe(e){var a=Object(r.useState)(""),t=Object(k.a)(a,2),l=t[0],s=t[1],c=Object(r.useState)(""),o=Object(k.a)(c,2),i=o[0],u=o[1],m=Object(r.useState)(!1),h=Object(k.a)(m,2),p=h[0],g=h[1],d=Object(r.useState)(!1),f=Object(k.a)(d,2),E=f[0],y=f[1],v=Object(r.useState)(""),b=Object(k.a)(v,2),C=b[0],N=b[1];Object(r.useEffect)((function(){document.title="Enter New Password"}),[]);console.log(e);return n.a.createElement("div",null,n.a.createElement("div",{className:"container form-group d-flex flex-column"},n.a.createElement("h1",{className:"text-center"},"Enter New Password"),p&&n.a.createElement("div",{className:"alert alert-warning"},"Error: "+C),E&&n.a.createElement("div",{className:"alert alert-success text-center"},"Password accepted. You may now log in normally. Thank you."),!E&&n.a.createElement(n.a.Fragment,null,"Password: ",n.a.createElement("input",{type:"password",className:"form-control",name:"password",value:l,onChange:function(e){return s(e.target.value)}}),"Confirm Password: ",n.a.createElement("input",{type:"password",className:"form-control",name:"password2",value:i,onChange:function(e){return u(e.target.value)}}),n.a.createElement("button",{className:"btn btn-lg btn-success p-1 mt-3 mb-2",onClick:function(a){a.persist(),function(a,t){S.a.post("https://konrest.herokuapp.com/confirm?token="+e.match.params.token,{p1:a,p2:t}).then((function(e){console.log(e),y(!0),g(!1)})).catch((function(e){N(e.response.data),g(!0)}))}(l,i)}},"Submit")),n.a.createElement("a",{href:"https://brettmcoding.github.io/koncsc",className:"text-center m-auto w-50 btn btn-secondary"},"Back to homepage")))}function ie(){var e=Object(r.useState)(""),a=Object(k.a)(e,2),t=a[0],l=a[1],s=Object(r.useState)(!1),c=Object(k.a)(s,2),o=c[0],i=c[1],u=Object(r.useState)(!1),m=Object(k.a)(u,2),h=m[0],p=m[1],g=Object(r.useState)(""),d=Object(k.a)(g,2),f=d[0],E=d[1],y=Object(r.useState)(!0),v=Object(k.a)(y,2),b=v[0],C=v[1];Object(r.useEffect)((function(){document.title="Forgot Password"}),[]);return n.a.createElement("div",null,n.a.createElement("div",{className:"container form-group d-flex flex-column"},n.a.createElement("h1",{className:"text-center"},"Forgot Password?"),o&&n.a.createElement("div",{className:"alert alert-warning"},"Error: "+f),h&&n.a.createElement("div",{className:"alert alert-success text-center"},"An email has been sent to the provided email address. Please click the forgot password link in the email to continue"),!h&&n.a.createElement(n.a.Fragment,null,"Email: ",n.a.createElement("input",{type:"text",className:"form-control",name:"email",value:t,onChange:function(e){return l(e.target.value)}}),n.a.createElement("button",{className:"btn btn-lg btn-success p-1 mt-3 mb-2",disabled:!b,onClick:function(e){e.persist(),function(e){C(!1);S.a.post("https://konrest.herokuapp.com/forgot",{email:e}).then((function(e){console.log(e),p(!0),i(!1)})).catch((function(e){E(e.response.data),i(!0),C(!0)}))}(t)}},"Submit")),n.a.createElement("a",{href:"https://brettmcoding.github.io/koncsc",className:"text-center m-auto w-50 btn btn-secondary"},"Back to homepage")))}var ue=t(67),me=t.n(ue),he=t(97),pe=t(98),ge=t.n(pe),de=t(99),fe=t(100),ke=t.n(fe),Ee=t(101),Se=t(177),ye=Se.PDFDocument,ve=Se.PDFArray,be=Se.PDFHexString,Ce=Se.PDFNumber,Ne=Se.breakTextIntoLines,Oe=Se.PDFOperator,Ie=Se.degrees,Te=Se.drawLinesOfText,Le=Se.PDFOperatorNames,Pe=Se.PDFName,xe=Se.rgb,we=Se.StandardFonts,He=Se.asPDFName,je=Se.PDFBool,Ae=Se.PDFContentStream,Me=Se.pushGraphicsState,Fe=Se.popGraphicsState,Be=function(e){return e.catalog.lookup(Pe.of("AcroForm"))},Re=function(e){var a=Be(e);if(!a)return[];var t=a.lookupMaybe(Pe.of("Fields"),ve);if(!t)return[];for(var r=new Array(t.size()),n=0,l=t.size();n<l;n++)r[n]=t.lookup(n);return r},We=function(e){e.set(Pe.of("Ff"),Ce.of(1))},_e=function(e,a){return Re(e).find((function(e){var t=e.get(Pe.of("T"));return!!t&&t.value===a}))},De=function(e,a,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=e.lookup(Pe.of("Rect"),ve),l=n.lookup(2,Ce).value()-n.lookup(0,Ce).value(),s=n.lookup(3,Ce).value()-n.lookup(1,Ce).value(),c=r?Ve(t,a,l,s):Ue(t,a,l,s);e.set(Pe.of("AP"),e.context.obj({N:c})),e.set(Pe.of("Ff"),Ce.of(1)),e.set(Pe.of("V"),be.fromText(a))},Ue=function(e,a,t,r){var n=e.sizeAtHeight(r-5),l=[e.encodeText(a)];return Ye(e,n,l,0,r-n,t,r)},Ve=function(e,a,t,r){var n=Ne(a,[" "],t,(function(a){return e.widthOfTextAtSize(a,12)})).map((function(a){return e.encodeText(a)}));return Ye(e,12,n,0,r-12,t,r)},Ye=function(e,a,t,r,n,l,s){var c,i=e.doc.context.obj({Type:"XObject",Subtype:"Form",FormType:1,BBox:[0,0,l,s],Resources:{Font:{F0:e.ref}}}),u=[(c="Tx",Oe.of(Le.BeginMarkedContent,[He(c)])),Me()].concat(Object(o.a)(Te(t,{color:xe(1,0,0),font:"F0",size:a,rotate:Ie(0),xSkew:Ie(0),ySkew:Ie(0),x:r,y:n,lineHeight:a+2})),[Fe(),Oe.of(Le.EndMarkedContent)]),m=Ae.of(i,u);return e.doc.context.register(m)};function Ge(e,a){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(he.a)(me.a.mark((function e(a,t){var r,n,l,s,c,o,i,u,m,h,p,g,d,f,k,E,S,y,v,b,C,N,O,I,T,L,P,x,w,H,j,A,M,F,B,R;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ke.a).then((function(e){return e.arrayBuffer()}));case 2:return r=e.sent,e.next=5,ye.load(r);case 5:return(n=e.sent).registerFontkit(Ee.a),e.next=9,n.embedFont(we.TimesRoman);case 9:return l=e.sent,e.next=12,n.embedFont(we.HelveticaBold);case 12:for(s=e.sent,Be(n).set(Pe.of("NeedAppearances"),je.True),(c=function(e,a,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=_e(n,e);if(!l)throw new Error("Missing AcroField: ".concat(e));De(l,a,t,r)})("CharacterName",a.characterName,l),c("Race",a.race,l),c("Country",a.country,l),c("Player",a.player,l),c("SavedSkillPoints",t.toString(),l),c("Level",a.level.toString(),l),c("SavedXp",a.savedXp.toString(),l),o=0;o<a.resources.magicPoints;o++)void 0!==(i=_e(n,"Magic Power "+(o+1)))&&(i.set(Pe.of("V"),Pe.of("Yes")),i.set(Pe.of("AS"),Pe.of("Yes")));for(u=0;u<=a.resources.craftPoints;u++)void 0!==(m=_e(n,"Craft "+u/2))&&(m.set(Pe.of("V"),Pe.of("Yes")),m.set(Pe.of("AS"),Pe.of("Yes")));for(h=1;h<=a.resources.productionPoints;h++)void 0!==(p=_e(n,"Production "+h/2))&&(p.set(Pe.of("V"),Pe.of("Yes")),p.set(Pe.of("AS"),Pe.of("Yes")));for(g in a.playerHasSkill)void 0!==(d=_e(n,a.playerHasSkill[g].name))&&(d.set(Pe.of("V"),Pe.of("Yes")),d.set(Pe.of("AS"),Pe.of("Yes")));for(f in a.freeLanguages)void 0!==(k=_e(n,a.freeLanguages[f].name))&&(k.set(Pe.of("V"),Pe.of("Yes")),k.set(Pe.of("AS"),Pe.of("Yes")));for(O in E=[],S=[],y=[],v=[],b=[],C=[],N=[],a.playerHasSkill)"roleplaying"===a.playerHasSkill[O].tree&&(I=a.playerHasSkill[O],(T=I.name).includes("Chosen")&&y.push(I),T.includes("Druid")&&v.push(I),T.includes("Medium")&&b.push(I),T.includes("Merchant")&&C.push(I),T.includes("Status")&&N.push(I));if(y.sort(),v.sort(),b.sort(),C.sort(),N.sort(),(L=[y,v,b,C,N]).sort((function(e,a){return a.length-e.length})),L[0].length>0)for(E=L[0],P=1;P<=E.length;P++)void 0!==(x=_e(n,"roleplaying_1_"+P+"_box"))&&(x.set(Pe.of("V"),Pe.of("Yes")),x.set(Pe.of("AS"),Pe.of("Yes"))),c("roleplaying_1_"+P,E[P-1].name,s);if(L[1].length>0)for(S=L[1],w=1;w<=S.length;w++)void 0!==(H=_e(n,"roleplaying_2_"+w+"_box"))&&(H.set(Pe.of("V"),Pe.of("Yes")),H.set(Pe.of("AS"),Pe.of("Yes"))),c("roleplaying_2_"+w,S[w-1].name,s);return Re(n).forEach((function(e){return We(e)})),e.next=49,n.save();case 49:j=e.sent,A=new de.a([j],{type:"application/pdf"}),M=new Date,F=String(M.getDate()).padStart(2,"0"),B=String(M.getMonth()+1).padStart(2,"0"),R=M.getFullYear(),ge()(A,a.characterName+" "+B+"-"+F+"-"+R+".pdf");case 56:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qe=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(n)))).state={APP_VER:"1.1.0",id:"",characterName:"",country:"",player:"",race:"",level:0,savedXp:0,freeLanguages:[],playerHasSkill:[],characterList:[],races:[],countries:[],resources:{magicPoints:0,craftPoints:0,productionPoints:0},MAGIC_POINT_COST:1,CRAFT_POINT_COST:.5,PRODUCTION_POINT_COST:.5,locked:!1,loadingSkills:!1,combat:[],general:[],production:[],crafting:[],roleplaying:[],scholar:[],specialaccess:[],aegis:[],battle:[],nature:[],necromancy:[],compulsion:[],restoration:[],enchantment:[],characterPicture:se.a,characterBio:""},t.sortSkillsByTree=function(e){var a=function(a){var r=function(r){a===e[r].tree&&t.setState((function(t){return Object(c.a)({},a,[].concat(Object(o.a)(t[a]),[e[r]]))}))};for(var n in e)r(n)};for(var r in t.state)a(r)},t.saveLocalCharacter=function(){var e=t.state,a={characterName:e.characterName,player:e.player,race:e.race,country:e.country,level:e.level,savedXp:e.savedXp,magicPoints:e.resources.magicPoints,craftPoints:e.resources.craftPoints,productionPoints:e.resources.productionPoints,skills:e.playerHasSkill,characterPicture:e.characterPicture,characterBio:e.characterBio};localStorage.setItem("character",JSON.stringify(a))},t.loadLocalCharacter=function(){var e=JSON.parse(localStorage.getItem("character")),a={magicPoints:e.magicPoints,craftPoints:e.craftPoints,productionPoints:e.productionPoints};t.setState((function(t){return Object(s.a)({},t,{characterName:e.characterName,player:e.player,race:e.race,country:e.country,level:e.level,savedXp:e.savedXp,resources:a,playerHasSkill:e.skills,characterPicture:e.characterPicture,characterBio:e.characterBio})}))},t.loadCharacterList=function(e){return S()({method:"get",url:"https://konrest.herokuapp.com/characters"}).then((function(e){t.setState((function(){return{characterList:Object(o.a)(e.data)}}))})).catch((function(a){e.show("Error loading character list.\n"+a.response.data.status+" "+a.response.data.message,{timeout:5e3,type:"error"})}))},t.saveCharacter=function(e,a){var r=t.state,n={id:e,characterName:r.characterName,player:r.player,race:r.race,country:r.country,level:r.level,savedXp:r.savedXp,magicPoints:r.resources.magicPoints,craftPoints:r.resources.craftPoints,productionPoints:r.resources.productionPoints,skills:r.playerHasSkill,characterPicture:r.characterPicture,characterBio:r.characterBio};return S()({method:"post",url:"https://konrest.herokuapp.com/character",data:n}).then((function(e){t.loadCharacterList(a),a.show("Character Saved",{timeout:5e3,type:"success"})})).catch((function(e){a.show("Error saving character. \n"+e.response.data.status+" "+e.response.data.message,{timeout:5e3,type:"error"})}))},t.loadCharacter=function(e,a){return S()({method:"get",url:"https://konrest.herokuapp.com/character",params:{id:e}}).then((function(e){var r={magicPoints:e.data.magicPoints,productionPoints:e.data.productionPoints,craftPoints:e.data.craftPoints};t.setState((function(a){return Object(s.a)({},a,{id:e.data.id,characterName:e.data.characterName,race:e.data.race,player:e.data.player,country:e.data.country,level:e.data.level,savedXp:e.data.savedXp,resources:r,playerHasSkill:e.data.skills,characterPicture:e.data.characterPicture,characterBio:e.data.characterBio})}),(function(){this.checkCharacterFreeLanguages()})),a.show("Character Loaded",{timeout:5e3,type:"success"})})).catch((function(e){a.show("Error loading character. \n"+e.response.data.status+" "+e.response.data.message,{timeout:5e3,type:"error"})}))},t.deleteCharacter=function(e,a){return S()({method:"delete",url:"https://konrest.herokuapp.com/character",params:{id:e}}).then((function(e){t.loadCharacterList(a),a.show("Character Deleted",{timeout:5e3,type:"success"})})).catch((function(e){a.show("Error deleting character. \n"+e.response.data.status+" "+e.response.data.message,{timeout:5e3,type:"error"})}))},t.resetSkills=function(){t.setState({playerHasSkill:[],resources:{magicPoints:0,craftPoints:0,productionPoints:0}}),t.calculateSkillPointsRemaining(),t.props.alert.show("Character Reset",{timeout:5e3,type:"success"})},t.characterInfoChange=function(e,a){if("savedXp"!==e&&"level"!==e||(a=a.replace(/[^0-9]/,"")),"race"===e){if(t.playerHasFaekinBonusLanguage()&&!a.includes("Faekin")){var r=t.checkCharacterAvailableSkillsFromScholar();(0==r||r.uncommonLanguages<=0)&&(t.removeSkillByName("Diabolic")?t.props.alert.show("Language: Diabolic has been removed due to race change",{timeout:5e3,type:"info"}):t.removeSkillByName("Sylvan")&&t.props.alert.show("Language: Sylvan has been removed due to race change",{timeout:5e3,type:"info"}))}if(t.playerHasFaekinBonusLanguage()&&!a.includes("Faekin")){var n=t.checkCharacterAvailableSkillsFromScholar();(0==n||n.uncommonLanguages<=0)&&(t.removeSkillByName("Diabolic")?t.props.alert.show("Language: Diabolic has been removed due to race change",{timeout:5e3,type:"info"}):t.removeSkillByName("Sylvan")&&t.props.alert.show("Language: Sylvan has been removed due to race change",{timeout:5e3,type:"info"}))}if(t.playerHasVargainenBonusLanguage()&&!a.includes("Vargainen")){var l=t.checkCharacterAvailableSkillsFromScholar();(0==l||l.uncommonLanguages<=0)&&t.removeSkillByName("Andaranian")&&t.props.alert.show("Language: Andaranian has been removed due to race change",{timeout:5e3,type:"info"})}}t.setState(Object(c.a)({},e,a),(function(){this.calculateSkillPointsRemaining(),this.checkCharacterFreeLanguages()}))},t.numericValidation=function(e){return null!==e.match("[0-9]")},t.checkCharacterFreeLanguages=function(){t.state.playerHasSkill,t.state.general;switch(t.state.race){case"Human":t.addFreeLanguages(["Language: Common"]);break;case"Drake":t.addFreeLanguages(["Language: Draconic","Language: Common"]);break;case"Snow Goblin":t.addFreeLanguages(["Language: Snow Goblin","Language: Common"]);break;case"Elf":t.addFreeLanguages(["Language: Elvish","Language: Common"]);break;case"Earthkin":t.addFreeLanguages(["Language: Terran","Language: Common"]);break;case"Faekin Elf":t.addFreeLanguages(["Language: Elvish","Language: Common"]);break;case"Faekin Earthkin":t.addFreeLanguages(["Language: Terran","Language: Common"]);break;case"Faekin Human":t.addFreeLanguages(["Language: Common"]);break;case"Vargainen":t.addFreeLanguages([""])}},t.addFreeLanguages=function(e){var a=[],r=t.state.general,n=function(t){var n=r.find((function(a){return a.name===e[t]}));void 0!==n&&a.push(n)};for(var l in e)n(l);t.setState((function(e){return{freeLanguages:a}}),(function(){for(var e in a)this.removeSkill(a[e])}))},t.calculateBaseSkillPoints=function(){return 0===t.state.level?10:2*t.state.level+10},t.calculateSkillPointsRemaining=function(){var e=t.calculateBaseSkillPoints();return e-=t.calculateSpentSkillPoints()},t.calculateSpentSkillPoints=function(){var e=0,a=t.state.playerHasSkill,r=t.state.resources;for(var n in a)e+=a[n].cost;return e+=r.craftPoints*t.state.CRAFT_POINT_COST+r.productionPoints*t.state.PRODUCTION_POINT_COST+r.magicPoints*t.state.MAGIC_POINT_COST},t.checkRequirements=function(e){var a=e.requires;if(""===a||null===a)return!0;var r=t.state.playerHasSkill;for(var n in r)if(a.includes(r[n].name))return!0;return!1},t.playerCheckedASkillBox=function(e,a){if(e.name.includes("Mad Ramblings"))return t.props.alert.show(t.madRamblings(),{timeout:5e3,type:"error"}),!1;if(!t.checkRequirements(e))return t.props.alert.show("You do not meet the requirements for "+e.name,{timeout:5e3,type:"error"}),!1;if(a){if("specialaccess"==e.tree){if(e.name.includes("Diabolic")||e.name.includes("Sylvan")){if(t.playerIsFaekin()&&!t.playerHasFaekinBonusLanguage())return t.addSkill(e);if(0==t.checkCharacterAvailableSkillsFromScholar())return t.props.alert.show("Scholar/Faekin is required for Sylvan / Diabolic",{timeout:5e3,type:"error"}),!1}if(e.name.includes("Andaranian")){if(t.playerIsVargainen()&&!t.playerHasVargainenBonusLanguage())return t.addSkill(e);if(0==t.checkCharacterAvailableSkillsFromScholar())return t.props.alert.show("Scholar/Vargainen is required for Andaranian",{timeout:5e3,type:"error"}),!1}if(0==t.checkCharacterAvailableSkillsFromScholar())return t.props.alert.show("Scholar is required for Special Access Skills",{timeout:5e3,type:"error"}),!1;if(t.isUncommonLanguage(e)&&t.checkCharacterAvailableSkillsFromScholar().uncommonLanguages<=0)return t.props.alert.show("You don't have any available uncommon languages",{timeout:5e3,type:"error"}),!1;if(t.isRareLanguage(e)&&t.checkCharacterAvailableSkillsFromScholar().rareLanguages<=0)return t.props.alert.show("You don't have any available rare languages",{timeout:5e3,type:"error"}),!1;if(t.isScholarRitual(e)&&t.checkCharacterAvailableSkillsFromScholar().rituals<=0)return t.props.alert.show("You don't have any available scholar rituals",{timeout:5e3,type:"error"}),!1}return!("specialaccess"!=e.tree&&e.name.includes("Ritual")&&!t.canPlayerGetThisRitualSkill(e,e.tree))&&(e.name.includes("Ritual")&&"specialaccess"==e.tree&&t.refundDuplicateRitual(e),t.calculateSkillPointsRemaining()-e.cost<0?(t.props.alert.show("You do not have enough skill points for "+e.name,{timeout:5e3,type:"error"}),!1):!("roleplaying"===e.tree&&!t.canPlayerGetThisRoleplayingSkill(e))&&("aegis"!==e.tree&&"enchantment"!==e.tree&&"necromancy"!==e.tree&&"restoration"!==e.tree&&"compulsion"!==e.tree&&"battle"!==e.tree&&"nature"!==e.tree||t.doesPlayerHaveMagicPower()?(1===e.needsApproval&&t.props.alert.show("Asterisked skills will require Plot Marshal approval",{timeout:5e3,type:"info"}),t.addSkill(e)):(t.props.alert.show("You must have a point in Magic Power before learning spells",{timeout:5e3,type:"error"}),!1)))}return!!t.skillIsPrerequisite(e)||!(t.isMagicTree(e.tree)&&!e.name.includes("Ritual")&&!t.canPlayerRemoveThisNonRitualMagicSkill(e,e.tree))&&("scholar"!==e.tree||t.scholarCanBeUnchecked()?t.removeSkill(e):(t.props.alert.show("Scholar is required for your amount of special access skills",{timeout:5e3,type:"error"}),!0))},t.checkCharacterAvailableSkillsFromScholar=function(){var e=[];for(var a in t.state.playerHasSkill)"scholar"==t.state.playerHasSkill[a].tree&&e.push(a);var r={uncommonLanguages:0,rituals:0,rareLanguages:0,hasScholarSkills:e};if(t.playerHasFaekinBonusLanguage()&&r.uncommonLanguages++,t.playerHasVargainenBonusLanguage()&&r.uncommonLanguages++,0==e.length)return!1;switch(e.length){case 1:r.uncommonLanguages+=1,r.rituals+=1,r.rareLanguages+=0;break;case 2:r.uncommonLanguages+=2,r.rituals+=3,r.rareLanguages+=0;break;case 3:r.uncommonLanguages+=4,r.rituals+=5,r.rareLanguages+=0;break;case 4:r.uncommonLanguages+=5,r.rituals+=7,r.rareLanguages+=1;break;case 5:r.uncommonLanguages+=5,r.rituals+=7,r.rareLanguages+=2}for(var n in t.state.playerHasSkill)"specialaccess"==t.state.playerHasSkill[n].tree&&(t.state.playerHasSkill[n].name.includes("Language")&&(2==t.state.playerHasSkill[n].tier?r.rareLanguages--:r.uncommonLanguages--),t.state.playerHasSkill[n].name.includes("Rituals")&&r.rituals--);return r},t.isNewScholarSkill=function(e){},t.isSpecialAccessSkillAttainable=function(e){},t.doesPlayerHaveMagicPower=function(){return t.state.resources.magicPoints>0},t.doesPlayerHaveAnySpells=function(){for(var e in t.state.playerHasSkill){var a=t.state.playerHasSkill[e].tree;if("aegis"===a||"enchantment"===a||"necromancy"===a||"restoration"===a||"compulsion"===a||"battle"===a||"nature"===a)return!0}return!1},t.canPlayerGetThisRitualSkill=function(e,a){var r=t.state.playerHasSkill.filter((function(e){return e.tree===a})),n=t.state.playerHasSkill.filter((function(e){return"specialaccess"===e.tree}));for(var l in n)if(n[l].name.includes(e.name))return t.props.alert.show("You already have "+n[l].name,{timeout:5e3,type:"error"}),!1;return r.length==t.state[a].length-1||(t.props.alert.show("You must master this magic school to learn "+e.name,{timeout:5e3,type:"error"}),!1)},t.canPlayerRemoveThisNonRitualMagicSkill=function(e,a){return!(t.state.playerHasSkill.filter((function(e){return e.tree===a})).filter((function(e){return e.name.includes("Ritual")})).length>0)||(t.props.alert.show("You must unlearn this schools Rituals to remove "+e.name,{timeout:5e3,type:"error"}),!1)},t.refundDuplicateRitual=function(e){var a=t.state.playerHasSkill;for(var r in a)if(e.name.includes(a[r].name)&&"specialaccess"!=a[r].tree)return t.removeSkill(a[r]),t.props.alert.show("Duplicate skill. "+r.name+" has been removed and refunded",{timeout:5e3,type:"info"}),!0;return!1},t.canPlayerGetThisRoleplayingSkill=function(e){var a=t.state.playerHasSkill.filter((function(e){return"roleplaying"===e.tree}));if(2===a.filter((function(e){return e.name.includes("1")})).length&&e.name.includes("1"))return t.props.alert.show("You cannot have more than two types of roleplaying skills",{timeout:5e3,type:"error"}),!1;var r=a.filter((function(e){return e.name.includes(3)}));return 0===r.length||!e.name.includes(3)||1!==r.length||(t.props.alert.show("You cannot have more than one roleplaying skill above 2nd level",{timeout:5e3,type:"error"}),!1)},t.skillIsPrerequisite=function(e){var a=t.state.playerHasSkill;for(var r in a){var n=a[r].requires;if(""!==n&&null!==n&&n.includes(e.name)&&a[r].tree===e.tree){if(n.includes("|"))for(var l in a)if(""!==n&&null!==n&&e.name!==a[l].name&&n.includes(a[l].name)&&a[l].tree===e.tree)return!1;return t.props.alert.show("Cannot remove "+e.name+". It is a prerequisite for "+a[r].name,{timeout:5e3,type:"error"}),!0}}return!1},t.scholarCanBeUnchecked=function(e){var a=t.checkCharacterAvailableSkillsFromScholar();switch(a.hasScholarSkills.length){case 1:case 2:case 3:if(a.rituals<=0||a.uncommonLanguages<=0)return!1;break;case 4:if(a.rituals<=0||a.uncommonLanguages<=0||a.rareLanguages<=0)return!1;break;case 5:if(a.rareLanguages<=0)return!1}return!0},t.addResource=function(e,a,r){if(t.calculateSkillPointsRemaining()-a<0)return t.props.alert.show("You do not have enough skill points",{type:"error"}),!1;if(t.state.resources[e]>=r)return!1;var n=t.state.resources;return n[e]+="magicPoints"===e?1:2,t.setState({resources:n},(function(){t.calculateSkillPointsRemaining()})),!0},t.removeResource=function(e){var a=t.state.resources;return 0!==a[e]&&("magicPoints"===e&&1===a[e]&&t.doesPlayerHaveAnySpells()?(t.props.alert.show("Cannot have 0 Magic Power while knowing spells",{timeout:5e3,type:"error"}),!1):(a[e]-="magicPoints"===e?1:2,void t.setState({resources:a})))},t.addSkill=function(e){return t.setState((function(a){return{playerHasSkill:[].concat(Object(o.a)(a.playerHasSkill),[e])}}),(function(){this.calculateSkillPointsRemaining()})),!0},t.removeSkill=function(e){return t.setState((function(a){return{playerHasSkill:a.playerHasSkill.filter((function(a){return a.name!==e.name}))}}),(function(){this.calculateSkillPointsRemaining()})),!1},t.lockChanges=function(){t.props.alert.show("Character editing "+(t.state.locked?"unl":"l")+"ocked"),t.setState((function(e){return{locked:!e.locked}})),t.calculateSkillPointsRemaining()},t.printCharacterSheet=function(){Ge(t.state,t.calculateSkillPointsRemaining())},t.printCharacterSheetDisabled=function(){t.props.alert.show("Sorry! Download PDF is currently disabled for updating",{timeout:5e3,type:"error"})},t.changeCharacterPicture=function(e){t.setState({characterPicture:e})},t.changeCharacterBio=function(e){t.setState({characterBio:e})},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.title="Kingdoms of Novitas | Character Sheet",console.log(this.state.APP_VER),this.state.APP_VER!==localStorage.getItem("APP_VER")&&(localStorage.clear(),localStorage.setItem("APP_VER",this.state.APP_VER)),y.isUserLoggedIn()&&(y.setupAxiosInterceptors(localStorage.getItem("USER_TOKEN")),this.loadCharacterList(this.props.alert)),this.setState({loadingSkills:!0});var a=[];S.a.get("https://konrest.herokuapp.com/skills").then((function(t){a=Object(o.a)(t.data),e.sortSkillsByTree(a),e.setState({loadingSkills:!1},(function(){this.checkCharacterFreeLanguages()}))}));var t=[];S.a.get("https://konrest.herokuapp.com/countries").then((function(a){t=Object(o.a)(a.data),e.setState({countries:t})}));var r=[];S.a.get("https://konrest.herokuapp.com/races").then((function(a){r=Object(o.a)(a.data),e.setState({races:r},(function(){this.checkCharacterFreeLanguages()}))})),null!==localStorage.getItem("character")&&this.loadLocalCharacter()}},{key:"componentDidUpdate",value:function(){this.saveLocalCharacter()}},{key:"isUncommonLanguage",value:function(e){return!(!e.name.includes("Language")||"specialaccess"!==e.tree||2===e.tier)}},{key:"isRareLanguage",value:function(e){return!(!e.name.includes("Language")||"specialaccess"!==e.tree||2!==e.tier)}},{key:"isScholarRitual",value:function(e){return!(!e.name.includes("Ritual")||"specialaccess"!==e.tree)}},{key:"isMagicTree",value:function(e){switch(e){case"aegis":case"battle":case"nature":case"necromancy":case"compulsion":case"restoration":case"enchantment":return!0}return!1}},{key:"removeSkillByName",value:function(e,a){if(2==arguments.length)for(var t in this.state.playerHasSkill)if(this.state.playerHasSkill[t].name.includes(e)&&this.state.playerHasSkill[t].tree===a)return this.removeSkill(this.state.playerHasSkill[t]),!0;for(var r in this.state.playerHasSkill)if(this.state.playerHasSkill[r].name.includes(e))return this.removeSkill(this.state.playerHasSkill[r]),!0;return!1}},{key:"playerIsFaekin",value:function(){if(this.state.race.includes("Faekin"))return!0}},{key:"playerHasFaekinBonusLanguage",value:function(){if(this.playerIsFaekin())for(var e in this.state.playerHasSkill)if(this.state.playerHasSkill[e].name.includes("Diabolic")||this.state.playerHasSkill[e].name.includes("Sylvan"))return!0;return!1}},{key:"playerIsVargainen",value:function(){if("Vargainen"===this.state.race)return!0}},{key:"playerHasVargainenBonusLanguage",value:function(){if(this.playerIsVargainen())for(var e in this.state.playerHasSkill)if(this.state.playerHasSkill[e].name.includes("Andaranian"))return!0;return!1}},{key:"madRamblings",value:function(){return"THE HIDE BEHIND THE HELMETS MUST BE CRUCIFIED. ONE OF US, ONE OF US, WILL TAKE THE MOST DANGEROUS SHOT OF THEIR LIVES, and AT THIS MOMENT IT IS ME. WITH ANOTHER PRAYER, THIS CLIMB WILL BE OVER. CHILD, HEAR MY SONG, AND LIVE. HERILO ERIK JOHNSON He must find him. Defending the castle itself would probably do no good. Johnson had no idea how many armed men there were in the fortress, how close they might be, how many there mighbe in the houses beyond. But he had to try. He would turn back. He had come too far. His heart pounded. His pulse grew harder. The time is now. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIMIS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOWTHE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIMIS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOWTHE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIMIS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOWTHE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIMIS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOWTHE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIMIS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW. THE TIME IS NOW."}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(re.a,null,n.a.createElement(ne.c,null,n.a.createElement(ne.a,{exact:!0,path:"/"},n.a.createElement(V,{lockChanges:this.lockChanges,resetSkills:this.resetSkills,locked:this.state.locked,saveCharacter:this.saveCharacter,loadCharacter:this.loadCharacter,deleteCharacter:this.deleteCharacter,characterList:this.state.characterList,loadCharacterList:this.loadCharacterList,printCharacterSheet:this.printCharacterSheet,staate:this.state}),n.a.createElement(K,{races:this.state.races,countries:this.state.countries,level:this.state.level,characterName:this.state.characterName,country:this.state.country,player:this.state.player,race:this.state.race,savedXp:this.state.savedXp,characterInfoChange:this.characterInfoChange,lockChanges:this.state.locked,calculateSkillPointsRemaining:this.calculateSkillPointsRemaining}),n.a.createElement(Z,{characterPicture:this.state.characterPicture,characterBio:this.state.characterBio,changeCharacterPicture:this.changeCharacterPicture,changeCharacterBio:this.changeCharacterBio,lockChanges:this.state.locked}),n.a.createElement(g.a,null,this.state.loadingSkills?n.a.createElement("div",null,"Loading skills. Please wait..."):n.a.createElement(n.a.Fragment,null,n.a.createElement(ee,{resources:this.state.resources,addResource:this.addResource,removeResource:this.removeResource,lockChanges:this.state.locked,MAGIC_POINT_COST:this.state.MAGIC_POINT_COST,PRODUCTION_POINT_COST:this.state.PRODUCTION_POINT_COST,CRAFT_POINT_COST:this.state.CRAFT_POINT_COST}),n.a.createElement(d.a,null,n.a.createElement(f.a,{className:"skilltree"},n.a.createElement("div",{className:"combat"},n.a.createElement(te,{treeName:"Combat",tree:"combat",skills:this.state.combat,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"general"},n.a.createElement(te,{treeName:"General",tree:"general",skills:this.state.general,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"nature"},n.a.createElement(te,{treeName:"Nature",tree:"nature",skills:this.state.nature,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"necromancy"},n.a.createElement(te,{treeName:"Necromancy",tree:"necromancy",skills:this.state.necromancy,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"compulsion"},n.a.createElement(te,{treeName:"Compulsion",tree:"compulsion",skills:this.state.compulsion,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked}))),n.a.createElement(f.a,{className:"skilltree"},n.a.createElement("div",{className:"production"},n.a.createElement(te,{treeName:"Production",tree:"production",skills:this.state.production,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"production"},n.a.createElement(te,{treeName:"Crafting",tree:"crafting",skills:this.state.crafting,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"aegis"},n.a.createElement(te,{treeName:"Aegis",tree:"aegis",skills:this.state.aegis,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"battle"},n.a.createElement(te,{treeName:"Battle",tree:"battle",skills:this.state.battle,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"enchantment"},n.a.createElement(te,{treeName:"Enchantment",tree:"enchantment",skills:this.state.enchantment,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked}))),n.a.createElement(f.a,{className:"skilltree"},n.a.createElement("div",{className:"roleplaying"},n.a.createElement(te,{treeName:"Roleplaying",tree:"roleplaying",skills:this.state.roleplaying,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"roleplaying"},n.a.createElement(te,{treeName:"Scholar",tree:"scholar",skills:this.state.scholar,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"roleplaying"},n.a.createElement(te,{treeName:"Special Access Skills",tree:"specialaccess",skills:this.state.specialaccess,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked})),n.a.createElement("div",{className:"restoration"},n.a.createElement(te,{treeName:"Restoration",tree:"restoration",skills:this.state.restoration,playerSkills:this.state.playerHasSkill,freeLanguages:this.state.freeLanguages,playerCheckedASkillBox:this.playerCheckedASkillBox,lockChanges:this.state.locked}))))," "))),n.a.createElement(ne.a,{path:"/register",exact:!0,component:ce}),n.a.createElement(ne.a,{path:"/forgot",exact:!0,component:ie}),n.a.createElement(ne.a,{path:"/newpass:token",exact:!0,component:oe}))))}}]),a}(n.a.Component),ze=Object(v.e)()(qe),Ke=t(120),Je=t.n(Ke),Qe={position:v.b.TOP_CENTER,timeout:3e3,offset:"30px",transition:v.c.FADE};Object(l.render)(n.a.createElement((function(){return n.a.createElement(v.a,Object.assign({template:Je.a},Qe),n.a.createElement(ze,null))}),null),document.getElementById("root"))},96:function(e,a,t){e.exports=t.p+"static/media/default.79216e9e.png"}},[[121,1,2]]]);
//# sourceMappingURL=main.b789bcb9.chunk.js.map